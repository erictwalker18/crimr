<!DOCTYPE html>
<html>
<head>
    <title>CRIMR Readme</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>
    <a href="index.py">
    <img src="Logo.png" alt="CRIMR" width="164" height="59">
    </a>
    <h1>Project Description</h1>
    <i>A product of CRIMR Studios: Eric Walker, Graham Earley, and Charlie Imhoff</i>

      <p>
        CRIMR is a webapp that allows you to browse recent crime activity in the
        San Francisco area. You can do a broad search of crime (through districts, descriptions,
        categories, resolution status of the crime, and even the day of week), or you can
        focus your search in by specifying a certain district, category, day of week, and
        or resolution status, and then searching from there.
      </p>

      <h3>Feature List</h3>
        <ul>
          <li>Broad search of crimes (looking through the various attributes)</li>
          <li>Narrowed down search of crimes (looking through crimes with certain attributes
            set. For example, searching through all unresolved crimes on Wednesdays)</li>
          <li>The CrimeScore Index: rank your fear of all the crime categories and receive
          a personalized 'CrimeScore' letting you know how scared you should be of the
          current crime level.</li>
          <li>View any crime in more detail by clicking its Crime ID.</li>
          <li>Get a random crime (and see it on a map). Practice vigilante justice at your own
          discretion.</li>
        </ul>

      <h1>Changes Since Conception</h1>
          <ul>
            <li>A main change from our initial conception (seen especially in our mockups) is
            the visual design. Our HTML forms are not as nicely formatted (we didn't have much
            time to play with prettier JQuery forms), for one thing. Also, with the relatively short timeframe
            of the project, we didn't focus too much on CSS, although that would have helped our site
            be more true to the mockups.</li>
            <li>Some of our features were lumped into the search. For example, <i>'Find out which days
            of the week are most dangerous'</i> is now simply up to the user to figure out by using our
            search (search for Wednesday and see how much crime there is) rather than there being
            a set page that shows you what the crime activity is like for each day.</li>
            <li>Certain time saving features, such as sorting tables through JQuery were
            cut due to development timeframe.</li>
          </ul>


    <h1>Things That Would Have Been Useful to Know Earlier</h1>
      <ul>
        <li>CSS knowledge / more time to experiment with CSS</li>
        <li>JavaScript and JQuery in-class experimentation / code review</li>
        <li>Using Git to create an effective, multiperson workflow</li>
        <li>Making a Unified HTMLBuilder class to seperate design from logic.
        And to unify common elements between pages</li>
        <li>Creating a data-fetching class to effectively outsource complex
        queries from HTML pages and form logic</li>
      </ul>

    <h1>Citations, etc.</h1>
      <ul>
        <li><a href="https://data.sfgov.org/Public-Safety/Map-Crime-Incidents-Previous-Three-Months/gxxq-x39z">The dataset came from this page</a>, provided by the San Francisco government.</li>
        <li>The licensing information is given in the 'About' section of the dataset's homepage: <a href="http://creativecommons.org/publicdomain/zero/1.0/">Creative Commons Universal License</a></li>
        <li><a href="tables.sql">Our <b>CREATE TABLE</b> statements</a></li>
        <li>Copied code snippets are cited in source, where used.</li>
      </ul>

    <h1>Source code files:</h1>
      <ul>
        <li><a href="showsource.py?source=index.py">index.py</a></li>
        <li><a href="showsource.py?source=CrimeDataFetcher.py">CrimeDataFetcher.py</a></li>
        <li><a href="showsource.py?source=CrimrHTMLBuilder.py">CrimrHTMLBuilder.py</a></li>
        <li><a href="showsource.py?source=CrimeScore.py">CrimeScore.py</a></li>
        <li><a href="showsource.py?source=CrimeScorePage.py">CrimeScorePage.py</a></li>
        <li><a href="showsource.py?source=CrimeDetails.py">CrimeDetails.py</a></li>
        <li><a href="showsource.py?source=style.css">style.css</a></li>
        <li><a href="showsource.py?source=showsource.py">showsource.py</a></li>
        <li>Data Set Cleaning</li>
        <ul>
          <li><a href="showsource.py?source=Dataset_Cleaning/CSVcleaner.py">CSVCleaner.py</a></li>
          <li><a href="Dataset_Cleaning/Full_Crime_Dataset.csv">Full_Crime_Dataset.csv (big file)</a></li>
          <li><a href="Dataset_Cleaning/dataset_with_the_useful_columns.csv">dataset_with_the_useful_columns.csv</a></li>
          <li><a href="Dataset_Cleaning/python_cleaned_dates_csv.csv">python_cleaned_dates_csv.csv</a></li>
          <li><a href="Dataset_Cleaning/truncated_data.csv">truncated_data.csv</a></li>
          <li><a href="Dataset_Cleaning/truncated_data_NoHeaders.csv">truncated_data_NoHeaders.csv</a></li>
        </ul>
      </ul>

      <h1><i>REVISION CHANGES:</i></h1>
        <ul>
          <li>Created template HTML files for cleaner HTML output code</li>
          <ul>
            <li>Made templates for HTML snippets that were used multiple times in the code or were large/bulky and made the Python code harder to read</li>
            <li>The HTML code that remains embedded in our Python HTML generators is idiosyncratic/used once, and/or it is not static (i.e. it iterates through a list to assemble some HTML, such as a form or table from the data).</li>
            <li>These changes were made because they further separate our HTML from the database interactions. The changes also improve the maintainability of the HTML and the readability of the code (no more huge chunks of HTML embedded within the Python).</li>
          </ul>
          <li>Data Consistency</li>
          <ul>
            <li>CrimeDataFetcher’s use of data types is now far more consistent. Previously, values returned (or not returned) from a fetch method were not uniform. Now, a successful query will return a filled 2D list, a successful query with no results will return an empty 2D list, a fetch with a blank query will return None, and a connection or cursor error will raise an Exception.</li>
            <li>CrimeDataFetcher now also returns data more fitted to each fetcher’s specific needs. For example, a fetch to get only the data for one crime based on crimeID now returns a list of that Crime’s data, instead of a table containing only one row. This is much more readable.</li>
            <li>This change allows much easier and cleaner interfacing with the data obtained via CrimeDataFetcher.</li>
            <li>On a usability note, it also allowed us to more accurately understand where queries went wrong, and inform the user better. For example, now when there are zero results, we can say that explicitly, instead of printing an empty table. And when the search was blank, we can ask the user to input a search.</li>
          </ul>
          <li>Security Patch</li>
          <ul>
            <li>A database constants file was introduced, allowing us to not show our database credentials in our source code. This drastically reduces risk of outside tampering.</li>
          </ul>
          <li>Search Preservation</li>
          <ul>
            <li>Previously, when a user submitted a form, the form would reset. This wasn’t great, as the user would not see what they had searched for next to their results. In addition, tweaking a search after a user made it would require filling all the fields out again. Now, all form items (a text field and dropdown menus) in the search preserve their values on a page refresh.</li>
            <li>This is a pure usability feature. This change connects search to results visibly, as now you can see both together, which was not true previously.</li>
          </ul>
          <li>Visual Tweaks</li>
          <ul>
            <li>The entire site is slightly more spacious now, as margins have been added. This makes the site look less like a fax from the 90s and thus, more modern. It’s a cleaner, less claustrophobic look</li>
            <li>The logo has been made slightly larger, for brand identity. On a usability note, it’s the homepage button, so it should be big and important.</li>
            <li>The look and feel of Search has been tweaked to include a wider search bar, and less text. Instead of text next to each box saying “search by district/category/etc.”, this is now implied by the default values of the dropdown menus being “All Districts/Categories/Etcs.”. This is cleaner, and more clear than the previous “all” selector (which was a dash). The search bar was widened to put more emphasis on it, as it is a powerful element.</li>
          </ul>
          <li>Code Style</li>
          <ul>
            <li>Light changes to code style to make things more readable. For example, moving main methods down to the bottom of code files.</li>
            <li>Documentation updated to indicate phase_4 code.</li>
            <li>Documentation updated to be more consistent and clear by consolidating file descriptions at the top of each file and unifying format.</li>
          </ul>
          <li>Defaulted ratings for each crime category to 5 for the CrimeScore</li>
          <ul>
            <li>For usability and understandability for users.</li>
            <li>Makes setting values a quicker process (we assume the user is initially medium-scared of everything, rather than completely fearless).</li>
          </ul>
        </ul>

    <hr>

    <h3>CrimeScore methodology</h3>
    <p> Here's how the CrimeScore is calculated:
        Multiply the amount of crimes in each category by the user's
        rating for that category (0-10). Add all these up. Now, in order to make this decimal
        between 0 and 1 (for understandability) divide
        by the highest possible value for the numerator (which is the case
        where the user rates all categories at 10). Thus, the denominator is
        the quantity of each crime, multiplied by ten. The numerator is the quantity of each crime,
        multiplied by their respective ratings (0-10). This lets the quotient give a result between
        0 and 1. Now multiply this decimal by 100 and round for the final result.
    </p>
    <p><i>Disclaimer: CrimeScore is not meant to be used for real gauging of crime scariness in the area.</i></p>

</body>
</html>
